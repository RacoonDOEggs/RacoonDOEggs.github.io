<!doctype html>
<html lang="en">

<head>
        <title>rusEFI - Project Portfolio - Marc-Olivier Beaulieu</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        
        <link rel="canonical" href="https://github.com/RacoonDOEggs/nav/eng/microRusEFI/">
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../../../assets/css/darcula-highlight.min.css">

        <link rel="stylesheet" href="../../../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../../assets/css/dracula-ui.min.css">
        <link rel="stylesheet" href="../../../assets/css/mkdocs.min.css">

        
            <link  rel="icon" type="image/x-icon" href="../../../assets/img/Raccoon/RaccoonIcon.png">
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
                <script>hljs.initHighlightingOnLoad();</script>

</head>

<body class="drac-bg-black-secondary drac-text-grey-ternary drac-text drac-scrollbar-purple">

    <main class="d-flex">

        <!-- block sidebar -->
            <nav id="sidebar" class="sidebar drac-bg-black">
    <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
            <i class="fa fa-bars"></i>
            <span class="sr-only">Menu</span>
        </button>
    </div>

    <div class="p-4">
        
            <img class="logo" src="../../../assets/img/Raccoon/RaccoonIcon.png" height="150px">
        

        <div class="drac-text-center">
            
                <span class="drac-text drac-line-height drac-text-white">Project Portfolio - Marc-Olivier Beaulieu</span>
            
        </div>

        <div class="drac-box flex-column">
            <ul class="dot-ul">
                <li><div class="dot-li drac-bg-cyan"></div></li>
                <li><div class="dot-li drac-bg-green"></div></li>
                <li><div class="dot-li drac-bg-orange"></div></li>
                <li><div class="dot-li drac-bg-pink"></div></li>
                <li><div class="dot-li drac-bg-purple"></div></li>
                <li><div class="dot-li drac-bg-red"></div></li>
                <li><div class="dot-li drac-bg-yellow"></div></li>
            </ul>
        </div>

        <hr class="drac-divider" />

        <!-- block menu -->
        <ul class="mb-5 drac-list drac-list-none">
            
            <li class="drac-box">
                <a href="../../.."
                    class=" active 
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#english-collapse" aria-expanded="false">
                    English
                </a>
                <div class="collapse" id="english-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../../.."
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Home
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="#" class="
            drac-anchor-secondary btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
            data-bs-toggle="collapse" data-bs-target="#projects-collapse" aria-expanded="false">
            Projects
        </a>

        <div class="collapse" id="projects-collapse">
            <ul class="mb-5 drac-list drac-list-none">
                    
    <li class="drac-box-ternary">
        <a href="../baja_udes/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Baja UdeS
        </a>
    </li>
                    
    <li class="drac-box-ternary">
        <a href="#" class="
            drac-anchor-secondary btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
            data-bs-toggle="collapse" data-bs-target="#fox-in-a-box-collapse" aria-expanded="false">
            Fox in a Box
        </a>

        <div class="collapse" id="fox-in-a-box-collapse">
            <ul class="mb-5 drac-list drac-list-none">
                    
    <li class="drac-box-ternary">
        <a href="../fox_in_a_box/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Overview
        </a>
    </li>
                    
    <li class="drac-box-ternary">
        <a href="../pirate_cove/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Pirate Cove
        </a>
    </li>
                    
    <li class="drac-box-ternary">
        <a href="../golden_nugget_saloon/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Golden Nugget Saloon
        </a>
    </li>
                    
    <li class="drac-box-ternary">
        <a href="../life_sentence/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Life Sentence
        </a>
    </li>
                    
    <li class="drac-box-ternary">
        <a href="../the_other_side/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            The Other Side
        </a>
    </li>
                    
    <li class="drac-box-ternary">
        <a href="../the_bunker/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            The Bunker
        </a>
    </li>
                    
    <li class="drac-box-ternary">
        <a href="../teslas_mystery/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Tesla's Mystery
        </a>
    </li>
                    
    <li class="drac-box-ternary">
        <a href="../the_zodiac_killer/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            The Zodiac Killer
        </a>
    </li>
                    
    <li class="drac-box-ternary">
        <a href="../mastermind/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Mastermind
        </a>
    </li>
            </ul>
        </div>
    </li>
                    
    <li class="drac-box-ternary">
        <a href="./"
            class=" active 
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            rusEFI
        </a>
    </li>
            </ul>
        </div>
    </li>
                    </ul>
                </div>
            </li>
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#français-collapse" aria-expanded="false">
                    Français
                </a>
                <div class="collapse" id="français-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../../fr/index_fr/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Accueil
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="#" class="
            drac-anchor-secondary btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
            data-bs-toggle="collapse" data-bs-target="#projets-collapse" aria-expanded="false">
            Projets
        </a>

        <div class="collapse" id="projets-collapse">
            <ul class="mb-5 drac-list drac-list-none">
                    
    <li class="drac-box-ternary">
        <a href="../../fr/microRusEFI_fr/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            rusEFI
        </a>
    </li>
            </ul>
        </div>
    </li>
                    </ul>
                </div>
            </li>
        </ul>
        <!-- endblock -->
    </div>
</nav>
        <!-- endblock -->

        <nav class="divider drac-bg-purple-cyan"></nav>

        <div class="content">
            <!-- block header -->
                <header>
    <nav class="navbar navbar-expand-xl drac-bg-purple">
        <div class="container-fluid">
            
            <button class="navbar-toggler w-100 text-center" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
                aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
                <ul class="navbar-nav text-md-center">

                    <!-- block preview -->
                    <li class="nav-item">
                            
        <div class="container">
            <div class="row row-preview">
                <div class="col">
                    <a href="../mastermind/"
                        class="btn-preview drac-btn drac-btn-outline drac-text-white drac-text-cyan-green--hover">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </div>
                <div class="col">
                    <a href="../../fr/index_fr/"
                        class="btn-preview drac-btn drac-btn-outline drac-text-white drac-text-cyan-green--hover" style="padding-left: 3%;">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
                    </li>
                    <!--  endblock -->

                    <!-- block search -->
                    <li class="nav-item"><div role="search" class="search-box">
	<form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
		<input type="text" name="q" class="drac-input drac-input-search drac-input-white drac-text-white drac-bg-black-secondary"
		placeholder="Search docs" title="Type search term here" />
	</form>
</div>
                    </li>
                    <!--  endblock -->

                    <!-- block source -->
                    <li class="nav-item">
                        
                    </li>
                    <!--  endblock -->

                </ul>
            </div>

        </div>
    </nav>
</header>
            <!-- endblock -->

            <!-- block content -->
                <section class="p-md-5 section-content">
    <article>
        <p><h1 id="micro-rusefi">Micro rusEFI</h1>
<p><img src="../../../assets/img/microRusEFI/logo_rusefi.png" alt="rusEFI logo" title="rusEFI logo" style="max-width: 500px; height: auto; display: block; margin: 0 auto;"></p>
<h2 id="project-overview">Project Overview</h2>
<h3 id="rusefi-mission-statement">rusEFI mission statement:</h3>
<p>rusEFI is a group of enthusiasts developing a fundamentally smarter open source ECU. As of 2022, we have built an amazing foundation which is good enough to run any simple engine as is. Current software and universal hardware and offerings aim to cater to those interested in further development.</p>
<h3 id="what-is-an-ecu">What is an ECU?</h3>
<p>An Electronic Control Unit (ECU) is the brain of a modern vehicle's engine management system. This sophisticated computer continuously monitors engine sensors, including air flow, temperature, throttle position, and oxygen levels, to optimize fuel injection timing, ignition timing, and air-fuel mixture ratios. The ECU processes thousands of calculations per second to ensure optimal engine performance, fuel efficiency, and emissions compliance. By precisely controlling these parameters in real-time, the ECU maximizes power output while minimizing fuel consumption and harmful emissions, making it essential for modern automotive operation.</p>
<h3 id="micro-rusefi_1">Micro rusEFI</h3>
<p>microRusEFI is a small &amp; cheap Engine Management System board designed for fully sequential 1, 2, 3 and 4 cylinder applications.
microRusEFI uses a waterproof connector and its aluminum enclosure could be sealed.
microRusEfi supports dual Hall shaft position sensor input or 1xHall + 1xVR shaft position sensor input (A few resistors must be replaced on the PCB to switch from one setup to another)
Open-source design available in this <a href="https://github.com/rusefi/hw_microRusEfi">repository</a>, or available as a <a href="https://www.shop.rusefi.com/shop/p/microrusefi-assembled-ecu-development-module">completely assembled ECU</a>.
This is an excellent option for racing series that allow modifications inside the stock ECU case.</p>
<h4 id="features">Features:</h4>
<ul>
<li>Primary VR or Hall input (configurable with few resistor changes)</li>
<li>Secondary Hall input</li>
<li>4 analog thermistor (temperature) inputs</li>
<li>10 analog voltage inputs (0-5v)</li>
<li>4 high-Z injector outputs</li>
<li>2 high-current low side outputs for IAC/VVT/other solenoids</li>
<li>Dedicated main relay control output</li>
<li>4 low-current low side outputs for relays or warning lights</li>
<li>4 5v logic-level ignition outputs</li>
<li>2 logic level outputs (5v/12v configurable, requires resistor changes)</li>
<li>Electronic throttle body (drive by wire)</li>
<li>CAN connectivity on the plug</li>
<li>USB connectivity on the plug</li>
<li>SPI and TTL available on PCB</li>
</ul>
<h3 id="my-contribution">My contribution</h3>
<p>When looking over the PCB for this open source project I wanted to reproduce as an engine tuning learning opportunity, I realized that the USB traces were not routed as a proper differential pair. I modified the PCB design to have proper differential traces with a somewhat controlled impedance. While I was at it, I also updated the original microUSB connector with a USB-C connector for better durability.</p>
<p><a href="https://github.com/RacoonDOEggs/hw_microRusEfi_usb_c">The project fork can be found here.</a></p>
<h2 id="design-and-development">Design and Development</h2>
<h3 id="conceptual-design">Conceptual Design</h3>
<p>The routing design was calculated using the differential pair calculator from <a href="https://saturnpcb.com/saturn-pcb-toolkit/">Saturn PCB Toolkit V8.41</a>.</p>
<p>Here are the results of the calculation:
<img src="../../../assets/img/microRusEFI/usb_calculation.png" alt="Specifications of the calculated routing" title="Specifications of the calculated routing" style="max-width: 500px; height: auto; display: block; margin: 10px auto;"></p>
<p>Another design choice was to use a through-hole vertical USB-C connector. This choice might be unusual, but the vertical connector allows the board to fit inside the original OEM case specified by the original project, making it a drop-in replacement and saving me from designing a new case. A through-hole connector was chosen because, since the board is not meant to be produced in high quantities, the through-hole assembly does not add too much cost and allows for a sturdier connector that will not rip off the board when unplugging the USB cable.</p>
<h2 id="challenges-and-solutions">Challenges and Solutions</h2>
<p>The original board is very dense and had only 2 layers, making it nearly impossible to have proper shielding to control the impedance of the traces. This meant that the PCB had to be changed to a 4 layer board and many traces had to be rerouted to work with the new USB routing and grounding solution.</p>
<h2 id="results-and-achievements">Results and Achievements</h2>
<p>The USB functionality works properly and the device is recognized by TunerStudio. TunerStudio is an affordable software package used to tune ECUs to each engine. </p>
<h2 id="future-work">Future Work</h2>
<p>This ECU has yet to be mounted in a car to properly control an engine. This page will be updated once this has been successfully achieved.</p>
<h2 id="gallery">Gallery</h2>
<p><img alt="microRusEFI KiCad PCB Design" src="../../../assets/img/microRusEFI/mru_kicad.png" title="microRusEFI KiCad PCB Design" /></p>
<p><img alt="microRusEFI Plugged In" src="../../../assets/img/microRusEFI/mru_plugged.JPG" title="microRusEFI Plugged In" /></p>
<p><img alt="microRusEFI Side A" src="../../../assets/img/microRusEFI/mru_sideA.JPG" title="microRusEFI Side A" /></p>
<p><img alt="microRusEFI Side B" src="../../../assets/img/microRusEFI/mru_sideB.JPG" title="microRusEFI Side B" /></p>
<p><img alt="TunerStudio Interface" src="../../../assets/img/microRusEFI/tunerStudio.png" title="TunerStudio Interface" /></p></p>
    </article>
</section>
            <!-- endblock -->

            <!-- block footer -->
                <footer>
    <div class="d-flex flex-sm-row justify-content-between py-2 border-top drac-text-black drac-bg-cyan-green">
        <a href="https://github.com/dracula/mkdocs" target="_blank" style="padding-left: 1%;"
            class="footer-text drac-anchor drac-text-black drac-text-purple--hover">
            Made with Dracula Theme for MkDocs
        </a>
    </div>
</footer>
            <!-- endblock -->
        </div>

    </main>

        <script>var base_url = '../../..';</script>
        <script src="../../../assets/js/jquery-3.3.1.slim.min.js"></script>
        <script src="../../../assets/js/bootstrap.bundle.min.js"></script>
        <script src="../../../assets/js/mkdocs.js"></script>
			<script src="../../../search/main.js" defer></script>

</body>

</html>